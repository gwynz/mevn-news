{"remainingRequest":"/home/gwyn/Documents/gwnz/mevn-character-generator/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/gwyn/Documents/gwnz/mevn-character-generator/client/src/components/Admin.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/gwyn/Documents/gwnz/mevn-character-generator/client/src/components/Admin.vue","mtime":1597545891308},{"path":"/home/gwyn/Documents/gwnz/mevn-character-generator/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gwyn/Documents/gwnz/mevn-character-generator/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/gwyn/Documents/gwnz/mevn-character-generator/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/gwyn/Documents/gwnz/mevn-character-generator/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gwyn/Documents/gwnz/mevn-character-generator/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5mYWRlLWVudGVyLWFjdGl2ZSwKLmZhZGUtbGVhdmUtYWN0aXZlIHsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNXM7Cn0KLmZhZGUtZW50ZXIsIC5mYWRlLWxlYXZlLXRvIC8qIC5mYWRlLWxlYXZlLWFjdGl2ZSBiZWxvdyB2ZXJzaW9uIDIuMS44ICovIHsKICBvcGFjaXR5OiAwOwp9Cg=="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Admin.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"relative\">\n    <div class=\"fixed\">\n      <div v-for=\"no in showNotify\" :key=\"no\" class=\"mt-4\">\n        <div v-if=\"no\">\n          <div\n            class=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\"\n            role=\"alert\"\n          >\n            <div>\n              <div class=\"py-1\">\n                <svg\n                  class=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"\n                  />\n                </svg>\n              </div>\n              <div class=\"w-64\">\n                <p class=\"text-sm\">Da luu thanh cong</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"!no\">\n          <div\n            class=\"fixed bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\"\n            role=\"alert\"\n          >\n            <div>\n              <div class=\"py-1\">\n                <svg\n                  class=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"\n                  />\n                </svg>\n              </div>\n              <div class=\"w-64\">\n                <p class=\"text-sm\">Da luu that bai</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mt-10 max-w-5xl mx-auto bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 relative\">\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700 text-2xl font-bold mb-2\" for=\"username\">Tiêu đề</label>\n        <input\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n          id=\"username\"\n          type=\"text\"\n          v-model=\"newTitle\"\n          placeholder=\"nhap tieu de o day\"\n        />\n      </div>\n\n      <div class=\"flex items-center justify-between\">\n        <button\n          class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n          type=\"button\"\n          @click=\"saveTitle\"\n        >Bam vao day de luu</button>\n      </div>\n\n      <div class=\"rounded overflow-hidden shadow-md mt-5\">\n        <div class=\"px-6 py-4 hover:bg-gray-200\" v-for=\"(item, index) in listItem\" :key=\"item._id\">\n          <div class=\"flex justify-between\">\n            <p\n              class=\"text-gray-700 text-base font-bold cursor-pointer\"\n              @click.prevent=\"showContentTitle(item)\"\n            >{{item.title.title}}</p>\n            <button\n              @click=\"removeTitle(item.title._id)\"\n              class=\"h-6 bg-red-500 hover:bg-red-700 text-white font-bold px-2 rounded-full flex items-center\"\n            >X</button>\n          </div>\n          <div v-show=\"collapseContentTitle[listItem.indexOf(item)]\" class=\"px-10 py-6\">\n            <div class=\"text-gray-700 text-base w-full flex justify-between\">\n              <textarea\n                class=\"w-full h-24 resize border rounded focus:outline-none focus:shadow-outline\"\n                v-model=\"newContents[index]\"\n              ></textarea>\n              <button\n                @click=\"saveContent(item.title._id, index)\"\n                class=\"bg-blue-500 hover:bg-blue-400 text-white font-bold px-1 rounded-full flex items-center ml-3\"\n              >A</button>\n            </div>\n            <div class=\"text-gray-700 text-base w-full\">\n              <div class=\"p-8 w-full\" v-for=\"i in item.contents\" :key=\"i._id\">\n                <div class=\"flex justify-between\">\n                  {{i.text}}\n                  <button\n                    @click=\"removeContent(i._id)\"\n                    v-if=\"item.contents.length\"\n                    class=\"text-red-500 hover:text-red-400 font-bold px-1 rounded-full flex items-center ml-3 content-center h-8 w-8\"\n                  >X</button>\n                </div>\n              </div>\n            </div>\n          </div>>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  data: function () {\n    return {\n      listItem: [],\n      collapseContentTitle: [],\n      newTitle: \"\",\n      newContents: [],\n      showNotify: [],\n    };\n  },\n  methods: {\n    getData: function () {\n      axios.get(\"https://gwz-easy.herokuapp.com/news\").then((response) => {\n        this.listItem = response.data;\n      });\n    },\n    showContentTitle(item) {\n      this.collapseContentTitle[this.listItem.indexOf(item)] = !this\n        .collapseContentTitle[this.listItem.indexOf(item)];\n      this.collapseContentTitle = [...this.collapseContentTitle];\n    },\n    saveTitle() {\n      axios\n        .post(\"https://gwz-easy.herokuapp.com/news\", { title: this.newTitle })\n        .then((res) => {\n          this.newTitle = \"\";\n          this.getData();\n          this.showNotify.push(true);\n          setTimeout(() => {\n            this.showNotify.shift();\n          }, 2000);\n          return res;\n        })\n        .catch((error) => console.log(\"loi ne\", error));\n    },\n    removeTitle(id) {\n      axios\n        .delete(\"https://gwz-easy.herokuapp.com/news/\" + id)\n        .then((res) => {\n          this.getData();\n          this.showNotify.push(true);\n          setTimeout(() => {\n            this.showNotify.shift();\n          }, 2000);\n          return res;\n        })\n        .catch((error) => console.log(\"loi ne\", error));\n    },\n    saveContent(title_id, index) {\n      var text = this.newContents[index];\n      axios\n        .post(\"https://gwz-easy.herokuapp.com/contents\", { title_id, text })\n        .then((res) => {\n          this.newContents[index] = \"\";\n          this.getData();\n          this.showNotify.push(true);\n          setTimeout(() => {\n            this.showNotify.shift();\n          }, 2000);\n          return res;\n        })\n        .catch((error) => console.log(\"loi ne\", error));\n    },\n    removeContent(id) {\n      console.log(id);\n      axios\n        .delete(\"https://gwz-easy.herokuapp.com/contents/\" + id)\n        .then((res) => {\n          this.getData();\n          this.showNotify.push(true);\n          setTimeout(() => {\n            this.showNotify.pop();\n          }, 2000);\n          return res;\n        })\n        .catch((error) => console.log(\"loi ne\", error));\n    },\n  },\n  mounted: function () {\n    this.getData();\n  },\n};\n</script>\n\n<style>\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>"]}]}